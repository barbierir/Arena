body.arcade-mode { padding: 80px 0 80px; }
body.arcade-mode nav { opacity: .45; transform: scale(.97); }




body.arcade-mode {
  --accent-primary: #ff6d3f;
  --accent-primary-deep: #9d1f0f;
  --accent-secondary: #6b738b;
  --accent-tertiary: #4c443b;
  --text-strong: #fff3cf;
}

body.arcade-mode .panel,
body.arcade-mode .card {
  border-color: rgba(255, 233, 194, 0.24);
}

body.arcade-mode h1,
body.arcade-mode h2,
body.arcade-mode h3,
body.arcade-mode strong {
  color: var(--text-strong);
}

body.arcade-mode .btn,
body.arcade-mode button,
body.arcade-mode .btn--primary-arcade,
body.arcade-mode .btn-secondary,
body.arcade-mode .btn-tertiary,
body.arcade-mode .btn--fight {
  border-radius: 10px;
  font-weight: 800;
  letter-spacing: 0.04em;
  transition: transform 120ms ease, filter 120ms ease, box-shadow 180ms ease;
}

body.arcade-mode .btn,
body.arcade-mode button,
body.arcade-mode .btn--primary-arcade,
body.arcade-mode .btn--primary {
  background: linear-gradient(180deg, var(--accent-primary), var(--accent-primary-deep));
  border: 1px solid rgba(255, 227, 184, 0.62);
  color: #fff;
}

body.arcade-mode .btn--secondary,
body.arcade-mode .btn-secondary,
body.arcade-mode .btn-primary-alt {
  background: linear-gradient(180deg, #7e859a, #474d60);
  border: 1px solid rgba(224, 231, 255, 0.42);
  color: #f2f6ff;
}

body.arcade-mode .btn--tertiary,
body.arcade-mode .btn-tertiary,
body.arcade-mode .btn--minor,
body.arcade-mode .btn--tertiary-small {
  background: linear-gradient(180deg, #5b5047, #3b342d);
  border: 1px solid rgba(255, 226, 180, 0.3);
  color: #efdfc9;
}

body.arcade-mode .btn--danger {
  background: linear-gradient(180deg, #d94848, #7e1919);
  border: 1px solid rgba(255, 220, 220, 0.44);
  color: #fff;
}

body.arcade-mode .btn:hover:not(:disabled),
body.arcade-mode button:hover:not(:disabled) {
  transform: translateY(-1px) scale(1.02);
  filter: brightness(1.06);
}

body.arcade-mode .btn:active:not(:disabled),
body.arcade-mode button:active:not(:disabled) {
  transform: translateY(1px) scale(0.97);
}

body.arcade-mode .btn--primary,
body.arcade-mode .btn--primary-arcade,
body.arcade-mode .btn--fight {
  box-shadow: 0 0 22px rgba(255, 112, 76, 0.3);
  min-height: 44px;
  padding: 0.72rem 1.35rem;
}

body.arcade-mode .btn--fight {
  font-size: 1.08rem;
  min-width: 195px;
}

body.arcade-mode .btn--fight.is-recommended {
  animation: fight-glow 2.8s ease-in-out infinite;
}

.announcer {
  position: absolute;
  top: 52px;
  left: 50%;
  transform: translateX(-50%);
  font-size: clamp(1rem, 2.7vw, 1.95rem);
  font-weight: 900;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: #ffe9a6;
  text-shadow: -2px -2px 0 #1d0e02, 2px -2px 0 #1d0e02, -2px 2px 0 #1d0e02, 2px 2px 0 #1d0e02, 0 0 12px rgba(255, 170, 88, 0.5);
  opacity: 0;
  z-index: 8;
  pointer-events: none;
  white-space: nowrap;
}

.announcer.show {
  animation: announcer-pop 0.32s ease-out, announcer-fade 0.9s ease-out;
}

.announcer.level-high { color: #ffbf6f; }
.announcer.level-accent { color: #ffc6c0; }

@keyframes announcer-pop {
  0% { transform: translateX(-50%) scale(0.9); }
  65% { transform: translateX(-50%) scale(1.12); }
  100% { transform: translateX(-50%) scale(1); }
}

@keyframes announcer-fade {
  0% { opacity: 0; }
  12% { opacity: 1; }
  82% { opacity: 1; }
  100% { opacity: 0; }
}

@keyframes fight-glow {
  0%, 100% { box-shadow: 0 0 16px rgba(255, 112, 76, 0.26); }
  50% { box-shadow: 0 0 24px rgba(255, 132, 92, 0.46); }
}
body.index-page.arcade-mode {
  position: relative;
  isolation: isolate;
}

body.index-page.arcade-mode::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  background:
    radial-gradient(circle at 50% 45%, rgba(255, 132, 76, 0.12), rgba(255, 132, 76, 0) 55%),
    radial-gradient(circle at center, rgba(0, 0, 0, 0) 56%, rgba(0, 0, 0, 0.36) 100%);
}

body.index-page.arcade-mode .hero-card h1 {
  filter: brightness(1);
  text-shadow: 0 0 10px rgba(255, 194, 126, 0.45), 0 0 20px rgba(255, 96, 58, 0.28);
  animation: arcade-title-glow 2.8s ease-in-out infinite;
}

body.index-page.arcade-mode #startActions {
  justify-content: center;
  align-items: center;
}

body.index-page.arcade-mode .start-new-btn--primary {
  font-size: 1.08rem;
  padding: 0.78rem 1.4rem;
  min-width: 220px;
  box-shadow: 0 0 16px rgba(255, 94, 60, 0.42), 0 0 26px rgba(255, 135, 82, 0.22);
  animation: arcade-cta-pulse 2.7s ease-in-out infinite;
}

body.index-page.arcade-mode .start-new-btn--primary:hover:not(:disabled) {
  transform: translateY(-1px) scale(1.03);
}

body.index-page.arcade-mode .start-new-btn.is-click-bounce {
  animation: arcade-click-bounce 230ms cubic-bezier(.2, .9, .25, 1.15) 1;
}

.arena-hint {
  margin: -0.2rem 0 0.45rem;
  font-size: 0.9rem;
  letter-spacing: 0.04em;
  color: rgba(255, 224, 185, 0.9);
  opacity: 0;
  animation: arena-hint-fade-in 700ms ease-out 120ms forwards;
}

@keyframes arcade-title-glow {
  0%, 100% {
    filter: brightness(1);
    text-shadow: 0 0 10px rgba(255, 194, 126, 0.45), 0 0 20px rgba(255, 96, 58, 0.26);
  }
  50% {
    filter: brightness(1.07);
    text-shadow: 0 0 14px rgba(255, 207, 146, 0.6), 0 0 28px rgba(255, 116, 72, 0.4);
  }
}

@keyframes arcade-cta-pulse {
  0%, 100% {
    box-shadow: 0 0 12px rgba(255, 94, 60, 0.3), 0 0 20px rgba(255, 135, 82, 0.18);
  }
  50% {
    box-shadow: 0 0 18px rgba(255, 94, 60, 0.45), 0 0 30px rgba(255, 149, 92, 0.28);
  }
}

@keyframes arcade-click-bounce {
  0% { transform: scale(1); }
  45% { transform: scale(0.95); }
  100% { transform: scale(1); }
}

@keyframes arena-hint-fade-in {
  from { opacity: 0; transform: translateY(3px); }
  to { opacity: 1; transform: translateY(0); }
}
.hud { position: fixed; top: 0; left: 0; right: 0; z-index: 1300; display: grid; grid-template-columns: 1fr 1fr 1fr; gap: .5rem; padding: .5rem .8rem; background: linear-gradient(180deg, rgba(5,5,5,.96), rgba(10,10,10,.78)); border-bottom: 1px solid rgba(255,255,255,.22); }
.hud-col { display: flex; gap: .45rem; align-items: center; }
.hud-left { justify-content: flex-start; flex-wrap: wrap; }
.hud-center { justify-content: center; flex-direction: column; }
.hud-right { justify-content: flex-end; }
.hud-chip { background: rgba(0,0,0,.45); border: 1px solid rgba(255,255,255,.24); border-radius: 999px; padding: .2rem .55rem; display:flex; gap:.3rem; align-items:center; flex-wrap:wrap; }
.hud-name { font-weight: 800; letter-spacing: .03em; color: #fff6dc; }
.hud-hp-wrap { display:flex; align-items:center; gap:.4rem; }
.hud-hp { width: 180px; height: 12px; border-radius: 999px; background: #311; overflow:hidden; }
#hudHpBar { width: 40%; height: 100%; background: linear-gradient(90deg,#f45,#ffb15f); transition: width .24s ease; }
#hudHpBar.flash { filter: brightness(1.4); }
.pulse { animation: hud-pulse .35s ease; }

.arcade-main { max-width: 1100px; margin: 0 auto; padding: .7rem .8rem; }
.panel--main { padding: .75rem .9rem; border-radius: 14px; }
.arcade-grid { display: grid; grid-template-columns: 1.15fr 1fr; gap: .8rem; }
.stat-grid { display:grid; grid-template-columns: 1fr 1fr; gap:.45rem; }
.compact-stats .card { margin: 0; padding: .7rem; }

.action-bar { position: fixed; left: 0; right: 0; bottom: 0; z-index: 1300; display:flex; gap:.55rem; justify-content:center; padding:.55rem .75rem; background: linear-gradient(0deg, rgba(8,8,8,.97), rgba(8,8,8,.75)); border-top: 1px solid rgba(255,255,255,.16); }
.btn--minor { font-size: .9rem; padding: .5rem .85rem; }
.btn--tertiary-small { font-size: .82rem; opacity: .85; }
.is-recommended { box-shadow: 0 0 18px rgba(255,163,82,.5); }

.recruit-page .action-bar { display: none; }
.recruit-panel { position: relative; }
.recruit-layout { display:grid; grid-template-columns: minmax(220px, 360px) 1fr; align-items: stretch; gap: .8rem; }
.recruit-gif-wrap { min-height: 280px; max-height: 360px; border: 1px solid rgba(255,255,255,.2); border-radius: 12px; overflow: hidden; background: rgba(0,0,0,.35); display:grid; place-items:center; }
.recruit-gif-wrap img { width: 100%; max-width: 360px; max-height: 360px; object-fit: contain; }
.recruit-right-col { display:flex; flex-direction:column; gap:.45rem; }
.candidate-card { min-height: 220px; margin: 0; }
.candidate-card h3 { margin-top: .2rem; color: #fff8dd; }
.candidate-card .trait-pill { color: #ffd58e; font-weight: 700; }
.candidate-stats-row { display:flex; flex-wrap:wrap; gap:.6rem; margin-bottom:.5rem; }
.recruit-actions { display:flex; position: sticky; top: 86px; gap:.45rem; padding:.5rem; border: 1px solid rgba(255,255,255,.2); border-radius: 10px; background: rgba(6,6,6,.7); }
.recruit-actions button { flex: 1; }
.recruit-intro-banner { position:absolute; top: 58px; left:50%; transform:translateX(-50%); padding:.35rem .8rem; border:1px solid rgba(255,222,153,.75); background: rgba(41,18,5,.92); border-radius:999px; font-weight:900; letter-spacing:.05em; opacity:0; pointer-events:none; }
.recruit-intro-banner.show { opacity: 1; }

.hub-grid { align-items: start; }
.arcade-frame { min-height: 290px; padding: .5rem; border: 1px solid rgba(255,213,161,.35); box-shadow: inset 0 0 0 1px rgba(255,255,255,.08), 0 10px 22px rgba(0,0,0,.35); }
.gladiator-card { display:flex; align-items:center; justify-content:center; }
.gladiator-gif { max-width: 360px; min-height: 260px; object-fit: contain; }
.chip-grid .card strong { color: #ffdfad; }

.fx-overlay { position: fixed; inset: 0; display:grid; place-items:center; background: rgba(0,0,0,.82); z-index: 1400; }
.fx-panel { width:min(95vw, 900px); border:1px solid rgba(255,255,255,.28); background: rgba(8,8,8,.96); border-radius: 14px; padding: .7rem; text-align:center; position: relative; }
.fight-hud { display:grid; grid-template-columns: 80px 1fr auto; align-items:center; margin-bottom:.45rem; gap:.4rem; }
.fight-title { font-size: 1.05rem; font-weight: 800; color:#fff3c8; }
.fight-timer { justify-self:start; border:1px solid rgba(255,255,255,.25); border-radius:8px; padding:.2rem .45rem; font-weight:900; min-width:48px; }
.fx-skip { position: static; }
.arcade-stage { background: linear-gradient(rgba(0,0,0,.35), rgba(0,0,0,.2)), url('/assets/bg-arena.jpg') center / cover; min-height: 340px; position: relative; border-radius: 12px; overflow: hidden; }
.fx-fighter { position:absolute; bottom:72px; width:min(34%,240px); }
.fx-fighter.left { left:9%; }
.fx-fighter.right { right:9%; transform: scaleX(-1); }
.hp-dock { position:absolute; bottom:12px; width: 38%; text-align:left; }
.hp-left { left:12px; }
.hp-right { right:12px; text-align:right; }
.mini-hp { width: 100%; height: 14px; background: rgba(255,255,255,.2); border-radius:999px; overflow:hidden; }
.mini-hp i { display:block; width:100%; height:100%; background: linear-gradient(90deg,#57d36a,#d2f272); transition:width .3s ease; }
.crowd-meter--overlay { position:absolute; left:12px; top:12px; width: 180px; display:flex; align-items:center; gap:.35rem; }
.crowd-meter--overlay > div { flex:1; height:10px; background:rgba(255,255,255,.2); border-radius:999px; overflow:hidden; }
.crowd-meter--overlay i { display:block; width:8%; height:100%; background: linear-gradient(90deg,#ffd34f,#ff5d35); }
.dmg-number { position:absolute; top:44%; font-size:1.65rem; font-weight:900; color:#fff; -webkit-text-stroke: 1px #000; text-shadow:0 3px 6px #000; animation:float-up .8s ease forwards; }
.dmg-number.left { left:25%; } .dmg-number.right { right:25%; } .dmg-number.crit { color:#ff6f61; font-size:2rem; }
.crit-callout, .hype-callout { position:absolute; left:50%; transform:translateX(-50%); font-size:1.5rem; font-weight:900; color:#ff6f61; }
.crit-callout { top:42%; }
.hype-callout { top:18%; color:#ffe07f; font-size:1.1rem; }

.training-log-panel { margin-top: .45rem; }
.results-panel { margin-top:.6rem; padding:.7rem; border:1px solid rgba(255,255,255,.2); border-radius:12px; background:rgba(0,0,0,.42); }
.overlay-results h3 { font-size: 2rem; margin: 0 0 .35rem; }
.reward-line { color:#ffe3b8; }
.final-score { font-size: 2rem; color:#ffd278; margin: .2rem 0 .8rem; }

.toast-root{position:fixed;right:14px;bottom:84px;display:flex;flex-direction:column;gap:.5rem;z-index:1500}
.toast{padding:.55rem .8rem;border-radius:10px;background:rgba(14,14,14,.95);border:1px solid rgba(255,255,255,.2);opacity:0;transform:translateY(10px);transition:all .2s}
.toast.show{opacity:1;transform:translateY(0)}

.shake{animation:shake .2s linear}
@keyframes shake{0%{transform:translateX(0)}25%{transform:translateX(var(--shake-intensity,4px))}50%{transform:translateX(calc(var(--shake-intensity,4px)*-1))}100%{transform:translateX(0)}}
@keyframes float-up{from{transform:translateY(0);opacity:1}to{transform:translateY(-36px);opacity:0}}
@keyframes glow{0%,100%{filter:brightness(1)}50%{filter:brightness(1.2)}}
@keyframes hud-pulse{0%{transform:scale(1)}50%{transform:scale(1.07)}100%{transform:scale(1)}}
.reduce-motion *{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.01ms !important}
.reduce-motion .announcer.show{animation:announcer-fade .55s ease-out !important}
.reduce-motion .btn--fight.is-recommended{animation:none !important}
.reduce-motion body.index-page.arcade-mode::before,
body.index-page.arcade-mode.reduce-motion::before { display: none; }


@media (prefers-reduced-motion: reduce) {
  body.index-page.arcade-mode::before { display: none; }
  body.index-page.arcade-mode .hero-card h1,
  body.index-page.arcade-mode .start-new-btn--primary,
  body.index-page.arcade-mode .start-new-btn.is-click-bounce,
  .arena-hint, .btn--fight.is-recommended, .announcer.show {
    animation: none !important;
    transition: none !important;
  }
}

@media (max-width: 780px) {
  body.arcade-mode { padding-top: 116px; }
  .hud { grid-template-columns: 1fr; }
  .hud-right, .hud-left, .hud-center { justify-content: center; }
  .arcade-grid, .recruit-layout { grid-template-columns: 1fr; }
  .action-bar { flex-wrap: wrap; }
  .recruit-actions { top: 0; position: static; }
  .fx-fighter { width: 40%; bottom: 90px; }
  .hp-dock { width: 44%; }
}

.ranking-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  text-align: center;
  padding: 1.5rem;
}

.ranking-score {
  font-size: clamp(2rem, 6vw, 3.5rem);
  font-weight: 900;
  color: #ffd278;
  text-shadow: 0 0 12px rgba(255, 180, 40, 0.35);
}

.ranking-gladiator {
  width: min(100%, 320px);
  border-radius: 12px;
  border: 2px solid rgba(255, 210, 120, 0.45);
}

.challenge-preview {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.challenge-preview__gif {
  width: 92px;
  height: 92px;
  object-fit: cover;
  border-radius: 8px;
}

.challenge-preview__url {
  word-break: break-all;
  margin: 0;
}

.open-challenges-panel {
  margin-top: 1rem;
}

.open-challenges-list {
  display: grid;
  gap: .6rem;
}

.open-challenge-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  border: 1px solid rgba(255,255,255,0.15);
  border-radius: 8px;
  padding: .6rem .75rem;
}

@media (max-width: 640px) {
  .challenge-preview,
  .open-challenge-row {
    flex-direction: column;
    align-items: flex-start;
  }
}
